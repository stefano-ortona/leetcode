package com.ortona.stefano.leetcode.adventofcode;

import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.time.Duration;
import java.util.ArrayList;
import java.util.Date;
import java.util.HashMap;
import java.util.LinkedList;
import java.util.List;
import java.util.Map;
import java.util.Objects;
import java.util.TreeSet;
import java.util.concurrent.atomic.AtomicLong;

import org.apache.commons.lang3.tuple.Pair;

public class Day4 {

  public int getGuardAndMinute() throws ParseException {
    final List<FallAsleep> asleeps = readInput();
    final Pair<Integer, Integer> guard2minutes = getMostAsleepMinutesAmongAllGuards(asleeps);
    return guard2minutes.getLeft() * guard2minutes.getRight();
  }

  public int getGuardByMinute() throws ParseException {
    final List<FallAsleep> asleeps = readInput();
    final int guardId = getMostAsleepGuardId(asleeps);
    return guardId * getMostAsleepMinutes(asleeps, guardId);
  }

  @SuppressWarnings("deprecation")
  private Pair<Integer, Integer> getMostAsleepMinutesAmongAllGuards(List<FallAsleep> asleeps) {
    final Map<Integer, int[]> guard2minutes = new HashMap<>();
    int targetMinute = -1;
    int maxMinute = -1;
    int maxGuard = -1;
    for (final FallAsleep one : asleeps) {
      int[] currAsleep = guard2minutes.get(one.guardId);
      if (Objects.isNull(currAsleep)) {
        currAsleep = new int[60];
        guard2minutes.put(one.guardId, currAsleep);
      }
      for (final AsleepDuration oneDuration : one.asleepDurations) {
        // get the minute
        final int startMinute = oneDuration.start.getMinutes();
        final int endMinute = oneDuration.end.getMinutes();
        for (int i = startMinute; i < endMinute; i++) {
          currAsleep[i] += 1;
          if (currAsleep[i] > maxMinute) {
            maxMinute = currAsleep[i];
            targetMinute = i;
            maxGuard = one.guardId;
          }
        }
      }
    }
    return Pair.of(maxGuard, targetMinute);
  }

  @SuppressWarnings("deprecation")
  private int getMostAsleepMinutes(List<FallAsleep> asleeps, int guardId) {
    final int[] minutesCountAsleep = new int[60];
    int targetMinute = -1;
    int maxMinute = -1;
    for (final FallAsleep one : asleeps) {
      if (one.guardId == guardId) {
        for (final AsleepDuration oneDuration : one.asleepDurations) {
          // get the minute
          final int startMinute = oneDuration.start.getMinutes();
          final int endMinute = oneDuration.end.getMinutes();
          for (int i = startMinute; i < endMinute; i++) {
            minutesCountAsleep[i] += 1;
            if (minutesCountAsleep[i] > maxMinute) {
              maxMinute = minutesCountAsleep[i];
              targetMinute = i;
            }
          }
        }
      }
    }
    return targetMinute;
  }

  private int getMostAsleepGuardId(List<FallAsleep> asleeps) {
    final Map<Integer, Integer> guard2totalAsleep = new HashMap<>();
    int guardId = -1;
    int maxDuration = -1;
    for (final FallAsleep oneAsleep : asleeps) {
      final int curId = oneAsleep.guardId;
      final AtomicLong curAsleepTime = new AtomicLong(0);
      oneAsleep.asleepDurations.forEach(
          a -> curAsleepTime.addAndGet(Duration.between(a.start.toInstant(), a.end.toInstant()).getSeconds() / 60));
      final int newAlseepTime = (int) (guard2totalAsleep.getOrDefault(curId, 0) + curAsleepTime.get());
      guard2totalAsleep.put(curId, newAlseepTime);
      if (newAlseepTime > maxDuration) {
        maxDuration = newAlseepTime;
        guardId = curId;
      }
    }
    return guardId;
  }

  private List<FallAsleep> readInput() throws ParseException {
    final List<String> rowInput = new ArrayList<>();
    rowInput.add("[1518-05-29 00:00] Guard #1151 begins shift");
    rowInput.add("[1518-05-12 00:02] Guard #439 begins shift");
    rowInput.add("[1518-04-11 00:33] falls asleep");
    rowInput.add("[1518-06-23 00:52] wakes up");
    rowInput.add("[1518-10-25 00:48] falls asleep");
    rowInput.add("[1518-09-09 00:55] falls asleep");
    rowInput.add("[1518-10-29 00:18] falls asleep");
    rowInput.add("[1518-10-24 00:43] wakes up");
    rowInput.add("[1518-11-03 00:57] wakes up");
    rowInput.add("[1518-04-10 00:03] falls asleep");
    rowInput.add("[1518-07-17 00:46] wakes up");
    rowInput.add("[1518-10-02 00:47] wakes up");
    rowInput.add("[1518-04-02 00:48] wakes up");
    rowInput.add("[1518-04-27 00:57] wakes up");
    rowInput.add("[1518-07-19 00:46] wakes up");
    rowInput.add("[1518-09-28 00:44] wakes up");
    rowInput.add("[1518-11-05 00:45] wakes up");
    rowInput.add("[1518-11-17 00:50] wakes up");
    rowInput.add("[1518-08-03 00:15] falls asleep");
    rowInput.add("[1518-09-21 00:26] falls asleep");
    rowInput.add("[1518-04-13 00:00] Guard #947 begins shift");
    rowInput.add("[1518-08-03 00:39] falls asleep");
    rowInput.add("[1518-11-23 00:23] wakes up");
    rowInput.add("[1518-08-02 00:27] wakes up");
    rowInput.add("[1518-10-08 00:04] Guard #499 begins shift");
    rowInput.add("[1518-07-12 23:58] Guard #3449 begins shift");
    rowInput.add("[1518-09-07 00:38] wakes up");
    rowInput.add("[1518-11-16 00:43] wakes up");
    rowInput.add("[1518-04-29 00:23] falls asleep");
    rowInput.add("[1518-10-31 00:53] wakes up");
    rowInput.add("[1518-06-25 00:15] wakes up");
    rowInput.add("[1518-10-20 23:50] Guard #947 begins shift");
    rowInput.add("[1518-08-24 00:23] wakes up");
    rowInput.add("[1518-11-11 00:57] wakes up");
    rowInput.add("[1518-06-03 00:01] Guard #947 begins shift");
    rowInput.add("[1518-09-29 00:43] wakes up");
    rowInput.add("[1518-08-24 00:43] wakes up");
    rowInput.add("[1518-07-16 00:10] falls asleep");
    rowInput.add("[1518-06-08 00:21] wakes up");
    rowInput.add("[1518-08-17 00:49] falls asleep");
    rowInput.add("[1518-08-02 00:25] falls asleep");
    rowInput.add("[1518-09-28 00:53] wakes up");
    rowInput.add("[1518-10-19 00:03] Guard #337 begins shift");
    rowInput.add("[1518-04-15 00:53] falls asleep");
    rowInput.add("[1518-09-25 00:52] falls asleep");
    rowInput.add("[1518-07-17 00:39] falls asleep");
    rowInput.add("[1518-11-17 00:04] Guard #2341 begins shift");
    rowInput.add("[1518-06-06 00:08] falls asleep");
    rowInput.add("[1518-08-05 00:09] falls asleep");
    rowInput.add("[1518-04-30 23:56] Guard #809 begins shift");
    rowInput.add("[1518-08-19 00:53] wakes up");
    rowInput.add("[1518-06-07 00:00] Guard #2341 begins shift");
    rowInput.add("[1518-04-15 23:50] Guard #3019 begins shift");
    rowInput.add("[1518-09-02 00:55] wakes up");
    rowInput.add("[1518-11-19 00:59] wakes up");
    rowInput.add("[1518-05-03 00:29] falls asleep");
    rowInput.add("[1518-11-17 23:49] Guard #337 begins shift");
    rowInput.add("[1518-07-02 00:39] wakes up");
    rowInput.add("[1518-05-26 00:53] falls asleep");
    rowInput.add("[1518-06-03 00:20] falls asleep");
    rowInput.add("[1518-07-14 00:08] falls asleep");
    rowInput.add("[1518-05-25 00:03] Guard #1481 begins shift");
    rowInput.add("[1518-03-19 00:24] falls asleep");
    rowInput.add("[1518-06-13 00:41] falls asleep");
    rowInput.add("[1518-07-16 00:49] wakes up");
    rowInput.add("[1518-06-01 00:40] wakes up");
    rowInput.add("[1518-06-24 00:34] wakes up");
    rowInput.add("[1518-04-15 00:00] Guard #499 begins shift");
    rowInput.add("[1518-08-24 23:56] Guard #3019 begins shift");
    rowInput.add("[1518-04-04 00:03] falls asleep");
    rowInput.add("[1518-11-05 00:00] Guard #3119 begins shift");
    rowInput.add("[1518-05-23 00:54] wakes up");
    rowInput.add("[1518-09-19 00:57] wakes up");
    rowInput.add("[1518-09-10 00:56] wakes up");
    rowInput.add("[1518-05-27 00:04] Guard #3067 begins shift");
    rowInput.add("[1518-07-18 00:00] falls asleep");
    rowInput.add("[1518-08-16 00:36] wakes up");
    rowInput.add("[1518-11-12 23:57] Guard #1481 begins shift");
    rowInput.add("[1518-07-02 23:46] Guard #499 begins shift");
    rowInput.add("[1518-08-17 00:14] falls asleep");
    rowInput.add("[1518-07-09 23:57] Guard #2791 begins shift");
    rowInput.add("[1518-04-11 23:59] Guard #3067 begins shift");
    rowInput.add("[1518-09-08 00:20] falls asleep");
    rowInput.add("[1518-11-10 00:41] falls asleep");
    rowInput.add("[1518-06-10 00:29] wakes up");
    rowInput.add("[1518-04-28 00:55] wakes up");
    rowInput.add("[1518-05-22 23:58] Guard #3019 begins shift");
    rowInput.add("[1518-07-06 23:57] Guard #1973 begins shift");
    rowInput.add("[1518-09-25 00:00] Guard #1481 begins shift");
    rowInput.add("[1518-10-22 23:47] Guard #1973 begins shift");
    rowInput.add("[1518-10-12 00:42] wakes up");
    rowInput.add("[1518-06-18 00:41] falls asleep");
    rowInput.add("[1518-10-03 00:22] wakes up");
    rowInput.add("[1518-10-22 00:50] falls asleep");
    rowInput.add("[1518-09-24 00:00] Guard #337 begins shift");
    rowInput.add("[1518-06-30 23:58] Guard #2243 begins shift");
    rowInput.add("[1518-07-01 23:57] Guard #1951 begins shift");
    rowInput.add("[1518-06-27 00:57] wakes up");
    rowInput.add("[1518-06-24 00:56] wakes up");
    rowInput.add("[1518-09-21 00:56] wakes up");
    rowInput.add("[1518-10-06 00:36] wakes up");
    rowInput.add("[1518-04-28 00:16] wakes up");
    rowInput.add("[1518-07-19 23:57] Guard #3067 begins shift");
    rowInput.add("[1518-08-27 00:14] falls asleep");
    rowInput.add("[1518-08-27 00:15] wakes up");
    rowInput.add("[1518-04-10 23:57] Guard #809 begins shift");
    rowInput.add("[1518-10-02 00:04] Guard #2243 begins shift");
    rowInput.add("[1518-09-15 00:47] falls asleep");
    rowInput.add("[1518-04-29 00:01] Guard #439 begins shift");
    rowInput.add("[1518-04-17 00:16] falls asleep");
    rowInput.add("[1518-11-23 00:16] falls asleep");
    rowInput.add("[1518-09-29 00:03] Guard #3449 begins shift");
    rowInput.add("[1518-10-09 00:03] falls asleep");
    rowInput.add("[1518-09-18 00:00] Guard #1951 begins shift");
    rowInput.add("[1518-05-31 00:54] wakes up");
    rowInput.add("[1518-11-07 00:31] wakes up");
    rowInput.add("[1518-09-02 00:44] falls asleep");
    rowInput.add("[1518-07-03 00:55] wakes up");
    rowInput.add("[1518-09-11 00:35] wakes up");
    rowInput.add("[1518-08-05 00:53] wakes up");
    rowInput.add("[1518-06-13 00:55] wakes up");
    rowInput.add("[1518-11-02 00:02] Guard #3119 begins shift");
    rowInput.add("[1518-06-17 00:50] falls asleep");
    rowInput.add("[1518-08-03 00:36] wakes up");
    rowInput.add("[1518-05-02 00:53] falls asleep");
    rowInput.add("[1518-06-25 00:48] wakes up");
    rowInput.add("[1518-11-10 23:58] Guard #3019 begins shift");
    rowInput.add("[1518-08-23 00:36] wakes up");
    rowInput.add("[1518-10-26 00:53] wakes up");
    rowInput.add("[1518-05-02 00:46] wakes up");
    rowInput.add("[1518-07-29 00:45] wakes up");
    rowInput.add("[1518-03-19 00:02] Guard #787 begins shift");
    rowInput.add("[1518-07-16 00:03] Guard #947 begins shift");
    rowInput.add("[1518-10-28 00:02] Guard #1951 begins shift");
    rowInput.add("[1518-10-30 00:04] Guard #947 begins shift");
    rowInput.add("[1518-08-06 00:56] wakes up");
    rowInput.add("[1518-08-05 00:03] Guard #2791 begins shift");
    rowInput.add("[1518-04-04 00:42] falls asleep");
    rowInput.add("[1518-07-06 00:12] wakes up");
    rowInput.add("[1518-06-24 00:46] falls asleep");
    rowInput.add("[1518-05-03 00:59] wakes up");
    rowInput.add("[1518-11-07 00:18] falls asleep");
    rowInput.add("[1518-08-14 00:56] falls asleep");
    rowInput.add("[1518-03-28 00:02] Guard #499 begins shift");
    rowInput.add("[1518-08-07 00:57] wakes up");
    rowInput.add("[1518-07-05 00:53] wakes up");
    rowInput.add("[1518-05-31 00:38] falls asleep");
    rowInput.add("[1518-07-04 00:17] falls asleep");
    rowInput.add("[1518-10-12 00:58] wakes up");
    rowInput.add("[1518-10-08 00:44] falls asleep");
    rowInput.add("[1518-05-22 00:55] wakes up");
    rowInput.add("[1518-07-10 23:57] Guard #947 begins shift");
    rowInput.add("[1518-04-08 00:33] wakes up");
    rowInput.add("[1518-08-08 00:44] falls asleep");
    rowInput.add("[1518-05-19 00:57] wakes up");
    rowInput.add("[1518-04-05 00:01] Guard #499 begins shift");
    rowInput.add("[1518-07-04 00:59] wakes up");
    rowInput.add("[1518-09-27 00:34] falls asleep");
    rowInput.add("[1518-11-01 00:21] wakes up");
    rowInput.add("[1518-11-23 00:32] falls asleep");
    rowInput.add("[1518-10-31 00:36] wakes up");
    rowInput.add("[1518-04-29 00:57] wakes up");
    rowInput.add("[1518-07-10 00:55] wakes up");
    rowInput.add("[1518-10-11 00:09] falls asleep");
    rowInput.add("[1518-10-26 00:28] falls asleep");
    rowInput.add("[1518-10-27 00:36] falls asleep");
    rowInput.add("[1518-10-13 00:36] falls asleep");
    rowInput.add("[1518-05-21 00:35] falls asleep");
    rowInput.add("[1518-07-24 00:07] falls asleep");
    rowInput.add("[1518-03-20 00:00] Guard #499 begins shift");
    rowInput.add("[1518-04-01 00:08] falls asleep");
    rowInput.add("[1518-05-13 00:48] wakes up");
    rowInput.add("[1518-08-18 00:16] falls asleep");
    rowInput.add("[1518-04-08 00:19] falls asleep");
    rowInput.add("[1518-11-11 00:48] wakes up");
    rowInput.add("[1518-09-22 00:16] falls asleep");
    rowInput.add("[1518-04-28 00:27] falls asleep");
    rowInput.add("[1518-07-24 00:36] wakes up");
    rowInput.add("[1518-07-31 00:23] falls asleep");
    rowInput.add("[1518-03-27 00:48] falls asleep");
    rowInput.add("[1518-06-26 00:43] wakes up");
    rowInput.add("[1518-07-13 00:18] falls asleep");
    rowInput.add("[1518-11-11 23:58] Guard #2243 begins shift");
    rowInput.add("[1518-09-15 00:25] falls asleep");
    rowInput.add("[1518-10-09 00:20] falls asleep");
    rowInput.add("[1518-09-30 00:00] Guard #2341 begins shift");
    rowInput.add("[1518-10-29 00:59] wakes up");
    rowInput.add("[1518-08-08 00:14] falls asleep");
    rowInput.add("[1518-05-04 23:56] Guard #1151 begins shift");
    rowInput.add("[1518-05-16 00:19] falls asleep");
    rowInput.add("[1518-09-14 00:59] wakes up");
    rowInput.add("[1518-11-21 00:53] wakes up");
    rowInput.add("[1518-09-19 00:40] wakes up");
    rowInput.add("[1518-08-22 00:30] falls asleep");
    rowInput.add("[1518-10-18 00:29] wakes up");
    rowInput.add("[1518-11-14 00:25] falls asleep");
    rowInput.add("[1518-06-02 00:36] falls asleep");
    rowInput.add("[1518-11-04 00:03] Guard #3449 begins shift");
    rowInput.add("[1518-08-21 00:00] Guard #2089 begins shift");
    rowInput.add("[1518-04-19 00:17] wakes up");
    rowInput.add("[1518-07-28 00:30] falls asleep");
    rowInput.add("[1518-06-09 00:30] falls asleep");
    rowInput.add("[1518-10-09 23:59] Guard #1367 begins shift");
    rowInput.add("[1518-06-21 23:59] Guard #631 begins shift");
    rowInput.add("[1518-10-31 00:51] falls asleep");
    rowInput.add("[1518-10-29 00:04] Guard #89 begins shift");
    rowInput.add("[1518-09-08 00:58] wakes up");
    rowInput.add("[1518-03-31 00:01] Guard #3449 begins shift");
    rowInput.add("[1518-11-20 23:49] Guard #947 begins shift");
    rowInput.add("[1518-09-15 00:50] wakes up");
    rowInput.add("[1518-09-01 00:48] wakes up");
    rowInput.add("[1518-11-14 23:56] Guard #3119 begins shift");
    rowInput.add("[1518-04-17 00:45] wakes up");
    rowInput.add("[1518-08-26 00:02] falls asleep");
    rowInput.add("[1518-03-25 00:00] Guard #2791 begins shift");
    rowInput.add("[1518-06-21 00:00] Guard #3019 begins shift");
    rowInput.add("[1518-08-07 00:10] falls asleep");
    rowInput.add("[1518-09-26 00:24] falls asleep");
    rowInput.add("[1518-10-08 00:24] wakes up");
    rowInput.add("[1518-08-15 23:59] Guard #947 begins shift");
    rowInput.add("[1518-07-31 00:01] Guard #89 begins shift");
    rowInput.add("[1518-04-22 00:26] wakes up");
    rowInput.add("[1518-08-17 00:03] Guard #337 begins shift");
    rowInput.add("[1518-06-04 00:31] falls asleep");
    rowInput.add("[1518-10-08 00:27] falls asleep");
    rowInput.add("[1518-06-02 00:19] falls asleep");
    rowInput.add("[1518-08-01 00:47] wakes up");
    rowInput.add("[1518-05-04 00:00] Guard #1973 begins shift");
    rowInput.add("[1518-10-12 00:53] falls asleep");
    rowInput.add("[1518-09-14 00:22] wakes up");
    rowInput.add("[1518-06-02 00:56] wakes up");
    rowInput.add("[1518-07-25 00:54] falls asleep");
    rowInput.add("[1518-07-03 23:50] Guard #2617 begins shift");
    rowInput.add("[1518-05-13 00:00] Guard #1951 begins shift");
    rowInput.add("[1518-11-01 00:05] falls asleep");
    rowInput.add("[1518-05-03 00:49] falls asleep");
    rowInput.add("[1518-09-18 00:48] falls asleep");
    rowInput.add("[1518-07-25 00:59] wakes up");
    rowInput.add("[1518-11-19 00:28] falls asleep");
    rowInput.add("[1518-04-25 00:21] wakes up");
    rowInput.add("[1518-08-24 00:41] falls asleep");
    rowInput.add("[1518-08-20 00:54] wakes up");
    rowInput.add("[1518-11-15 23:57] Guard #3019 begins shift");
    rowInput.add("[1518-05-15 00:00] falls asleep");
    rowInput.add("[1518-04-09 00:56] wakes up");
    rowInput.add("[1518-10-25 00:58] wakes up");
    rowInput.add("[1518-03-18 00:01] Guard #89 begins shift");
    rowInput.add("[1518-08-05 00:10] wakes up");
    rowInput.add("[1518-09-02 00:40] wakes up");
    rowInput.add("[1518-07-05 00:35] falls asleep");
    rowInput.add("[1518-08-06 00:25] falls asleep");
    rowInput.add("[1518-11-07 23:50] Guard #499 begins shift");
    rowInput.add("[1518-04-24 00:10] falls asleep");
    rowInput.add("[1518-10-30 00:57] falls asleep");
    rowInput.add("[1518-07-09 00:23] falls asleep");
    rowInput.add("[1518-06-26 00:05] falls asleep");
    rowInput.add("[1518-08-04 00:57] wakes up");
    rowInput.add("[1518-05-06 00:01] falls asleep");
    rowInput.add("[1518-10-12 00:00] Guard #3449 begins shift");
    rowInput.add("[1518-06-06 00:47] wakes up");
    rowInput.add("[1518-09-15 00:42] wakes up");
    rowInput.add("[1518-06-14 00:11] wakes up");
    rowInput.add("[1518-05-20 00:33] wakes up");
    rowInput.add("[1518-07-29 00:03] falls asleep");
    rowInput.add("[1518-07-22 00:04] Guard #3449 begins shift");
    rowInput.add("[1518-08-31 00:37] wakes up");
    rowInput.add("[1518-04-06 00:06] falls asleep");
    rowInput.add("[1518-09-27 00:56] wakes up");
    rowInput.add("[1518-07-09 00:11] wakes up");
    rowInput.add("[1518-07-09 00:06] falls asleep");
    rowInput.add("[1518-03-22 00:26] wakes up");
    rowInput.add("[1518-10-16 00:24] falls asleep");
    rowInput.add("[1518-04-13 00:57] wakes up");
    rowInput.add("[1518-03-31 00:42] wakes up");
    rowInput.add("[1518-04-02 00:52] falls asleep");
    rowInput.add("[1518-07-19 00:17] falls asleep");
    rowInput.add("[1518-09-03 00:33] falls asleep");
    rowInput.add("[1518-09-12 00:35] falls asleep");
    rowInput.add("[1518-06-18 00:55] wakes up");
    rowInput.add("[1518-05-15 00:54] wakes up");
    rowInput.add("[1518-05-01 00:33] wakes up");
    rowInput.add("[1518-06-22 00:42] falls asleep");
    rowInput.add("[1518-09-01 00:55] wakes up");
    rowInput.add("[1518-10-17 23:58] Guard #439 begins shift");
    rowInput.add("[1518-04-11 00:46] wakes up");
    rowInput.add("[1518-03-20 00:08] falls asleep");
    rowInput.add("[1518-09-04 00:34] falls asleep");
    rowInput.add("[1518-04-11 00:20] wakes up");
    rowInput.add("[1518-04-18 00:41] wakes up");
    rowInput.add("[1518-09-19 00:49] falls asleep");
    rowInput.add("[1518-06-15 00:39] falls asleep");
    rowInput.add("[1518-06-22 00:48] wakes up");
    rowInput.add("[1518-03-26 23:59] Guard #2617 begins shift");
    rowInput.add("[1518-08-29 00:44] wakes up");
    rowInput.add("[1518-06-01 00:04] Guard #3449 begins shift");
    rowInput.add("[1518-06-17 00:03] Guard #89 begins shift");
    rowInput.add("[1518-07-07 00:35] wakes up");
    rowInput.add("[1518-07-06 00:05] falls asleep");
    rowInput.add("[1518-03-26 00:47] wakes up");
    rowInput.add("[1518-09-20 00:09] falls asleep");
    rowInput.add("[1518-08-29 00:39] falls asleep");
    rowInput.add("[1518-09-27 00:52] falls asleep");
    rowInput.add("[1518-04-09 00:15] falls asleep");
    rowInput.add("[1518-11-08 00:27] wakes up");
    rowInput.add("[1518-09-15 00:18] wakes up");
    rowInput.add("[1518-06-04 00:25] wakes up");
    rowInput.add("[1518-11-22 00:07] falls asleep");
    rowInput.add("[1518-11-11 00:38] falls asleep");
    rowInput.add("[1518-04-15 00:36] falls asleep");
    rowInput.add("[1518-04-03 23:50] Guard #809 begins shift");
    rowInput.add("[1518-07-18 00:42] falls asleep");
    rowInput.add("[1518-03-29 23:58] Guard #337 begins shift");
    rowInput.add("[1518-04-07 00:54] falls asleep");
    rowInput.add("[1518-06-28 23:53] Guard #89 begins shift");
    rowInput.add("[1518-08-04 00:29] falls asleep");
    rowInput.add("[1518-05-08 00:47] falls asleep");
    rowInput.add("[1518-11-02 00:23] falls asleep");
    rowInput.add("[1518-05-02 00:15] falls asleep");
    rowInput.add("[1518-05-27 23:58] Guard #373 begins shift");
    rowInput.add("[1518-09-29 00:19] falls asleep");
    rowInput.add("[1518-08-25 00:45] wakes up");
    rowInput.add("[1518-09-23 00:39] wakes up");
    rowInput.add("[1518-09-14 00:15] falls asleep");
    rowInput.add("[1518-04-24 23:50] Guard #2243 begins shift");
    rowInput.add("[1518-07-01 00:39] wakes up");
    rowInput.add("[1518-04-16 00:51] wakes up");
    rowInput.add("[1518-07-30 00:28] falls asleep");
    rowInput.add("[1518-09-12 23:58] Guard #1367 begins shift");
    rowInput.add("[1518-07-08 00:37] falls asleep");
    rowInput.add("[1518-06-23 00:13] falls asleep");
    rowInput.add("[1518-10-22 00:38] falls asleep");
    rowInput.add("[1518-09-14 00:52] falls asleep");
    rowInput.add("[1518-06-02 00:24] wakes up");
    rowInput.add("[1518-07-07 00:54] wakes up");
    rowInput.add("[1518-06-27 00:32] wakes up");
    rowInput.add("[1518-03-20 00:54] wakes up");
    rowInput.add("[1518-08-27 23:56] Guard #3449 begins shift");
    rowInput.add("[1518-08-22 00:45] wakes up");
    rowInput.add("[1518-07-22 00:40] wakes up");
    rowInput.add("[1518-09-03 00:28] wakes up");
    rowInput.add("[1518-09-01 00:35] falls asleep");
    rowInput.add("[1518-07-06 00:22] falls asleep");
    rowInput.add("[1518-08-08 00:00] Guard #89 begins shift");
    rowInput.add("[1518-07-17 00:50] falls asleep");
    rowInput.add("[1518-10-04 00:56] wakes up");
    rowInput.add("[1518-05-10 00:19] falls asleep");
    rowInput.add("[1518-07-14 00:02] Guard #89 begins shift");
    rowInput.add("[1518-10-24 23:58] Guard #2791 begins shift");
    rowInput.add("[1518-04-14 00:58] wakes up");
    rowInput.add("[1518-06-08 00:47] wakes up");
    rowInput.add("[1518-03-27 00:38] wakes up");
    rowInput.add("[1518-11-22 00:03] Guard #2243 begins shift");
    rowInput.add("[1518-03-31 00:22] falls asleep");
    rowInput.add("[1518-11-13 23:58] Guard #337 begins shift");
    rowInput.add("[1518-04-18 00:22] falls asleep");
    rowInput.add("[1518-04-10 00:58] wakes up");
    rowInput.add("[1518-11-02 00:53] wakes up");
    rowInput.add("[1518-10-30 00:40] wakes up");
    rowInput.add("[1518-07-05 23:50] Guard #3119 begins shift");
    rowInput.add("[1518-08-12 00:36] wakes up");
    rowInput.add("[1518-04-18 23:52] Guard #2617 begins shift");
    rowInput.add("[1518-09-17 00:04] Guard #2089 begins shift");
    rowInput.add("[1518-05-31 00:03] Guard #2617 begins shift");
    rowInput.add("[1518-10-18 00:10] falls asleep");
    rowInput.add("[1518-04-05 00:43] falls asleep");
    rowInput.add("[1518-10-11 00:32] wakes up");
    rowInput.add("[1518-04-10 00:45] falls asleep");
    rowInput.add("[1518-05-04 00:20] wakes up");
    rowInput.add("[1518-06-11 00:25] falls asleep");
    rowInput.add("[1518-08-13 00:58] wakes up");
    rowInput.add("[1518-10-01 00:06] falls asleep");
    rowInput.add("[1518-07-30 00:48] wakes up");
    rowInput.add("[1518-07-12 00:54] wakes up");
    rowInput.add("[1518-04-28 00:01] Guard #787 begins shift");
    rowInput.add("[1518-11-16 00:31] falls asleep");
    rowInput.add("[1518-08-08 00:28] wakes up");
    rowInput.add("[1518-11-19 00:57] falls asleep");
    rowInput.add("[1518-06-07 00:36] wakes up");
    rowInput.add("[1518-03-28 00:45] wakes up");
    rowInput.add("[1518-05-13 00:46] falls asleep");
    rowInput.add("[1518-09-22 00:18] wakes up");
    rowInput.add("[1518-04-29 23:57] Guard #1151 begins shift");
    rowInput.add("[1518-08-15 00:57] wakes up");
    rowInput.add("[1518-06-25 00:29] falls asleep");
    rowInput.add("[1518-09-02 23:59] Guard #1973 begins shift");
    rowInput.add("[1518-10-28 00:26] falls asleep");
    rowInput.add("[1518-04-19 00:05] falls asleep");
    rowInput.add("[1518-04-25 00:49] wakes up");
    rowInput.add("[1518-10-08 23:48] Guard #1951 begins shift");
    rowInput.add("[1518-07-18 00:01] wakes up");
    rowInput.add("[1518-09-30 00:45] wakes up");
    rowInput.add("[1518-09-15 00:30] wakes up");
    rowInput.add("[1518-08-13 00:42] wakes up");
    rowInput.add("[1518-05-16 00:03] Guard #499 begins shift");
    rowInput.add("[1518-08-08 23:58] Guard #2617 begins shift");
    rowInput.add("[1518-05-25 00:26] falls asleep");
    rowInput.add("[1518-05-17 00:26] falls asleep");
    rowInput.add("[1518-04-23 00:41] wakes up");
    rowInput.add("[1518-10-23 23:53] Guard #1367 begins shift");
    rowInput.add("[1518-07-25 23:57] Guard #337 begins shift");
    rowInput.add("[1518-09-27 23:57] Guard #809 begins shift");
    rowInput.add("[1518-11-11 00:54] falls asleep");
    rowInput.add("[1518-09-07 23:59] Guard #499 begins shift");
    rowInput.add("[1518-05-16 23:53] Guard #1973 begins shift");
    rowInput.add("[1518-10-14 00:58] wakes up");
    rowInput.add("[1518-05-17 00:00] falls asleep");
    rowInput.add("[1518-09-09 23:56] Guard #3119 begins shift");
    rowInput.add("[1518-04-28 00:30] wakes up");
    rowInput.add("[1518-03-30 00:17] falls asleep");
    rowInput.add("[1518-08-21 00:23] wakes up");
    rowInput.add("[1518-04-06 00:55] wakes up");
    rowInput.add("[1518-05-08 00:59] wakes up");
    rowInput.add("[1518-07-11 00:16] wakes up");
    rowInput.add("[1518-06-09 00:04] Guard #2341 begins shift");
    rowInput.add("[1518-10-24 00:46] falls asleep");
    rowInput.add("[1518-07-18 00:44] wakes up");
    rowInput.add("[1518-09-05 23:57] Guard #631 begins shift");
    rowInput.add("[1518-04-13 00:37] wakes up");
    rowInput.add("[1518-03-18 00:59] wakes up");
    rowInput.add("[1518-07-23 00:40] falls asleep");
    rowInput.add("[1518-07-18 00:58] wakes up");
    rowInput.add("[1518-11-03 00:33] falls asleep");
    rowInput.add("[1518-04-22 00:10] falls asleep");
    rowInput.add("[1518-07-05 00:01] Guard #89 begins shift");
    rowInput.add("[1518-07-15 00:18] falls asleep");
    rowInput.add("[1518-04-16 00:00] falls asleep");
    rowInput.add("[1518-10-15 00:36] falls asleep");
    rowInput.add("[1518-09-09 00:57] wakes up");
    rowInput.add("[1518-04-26 00:00] Guard #787 begins shift");
    rowInput.add("[1518-10-21 23:57] Guard #3449 begins shift");
    rowInput.add("[1518-06-19 00:50] wakes up");
    rowInput.add("[1518-03-18 00:35] falls asleep");
    rowInput.add("[1518-10-26 00:04] Guard #787 begins shift");
    rowInput.add("[1518-10-09 00:09] wakes up");
    rowInput.add("[1518-04-28 00:40] falls asleep");
    rowInput.add("[1518-11-03 00:03] Guard #2341 begins shift");
    rowInput.add("[1518-08-03 00:53] falls asleep");
    rowInput.add("[1518-10-29 00:47] wakes up");
    rowInput.add("[1518-09-30 00:15] falls asleep");
    rowInput.add("[1518-05-21 00:53] wakes up");
    rowInput.add("[1518-05-03 00:05] falls asleep");
    rowInput.add("[1518-06-05 00:59] wakes up");
    rowInput.add("[1518-08-04 00:04] Guard #1367 begins shift");
    rowInput.add("[1518-04-15 00:57] wakes up");
    rowInput.add("[1518-05-02 00:54] wakes up");
    rowInput.add("[1518-11-06 00:47] wakes up");
    rowInput.add("[1518-05-18 00:49] wakes up");
    rowInput.add("[1518-03-29 00:03] Guard #2341 begins shift");
    rowInput.add("[1518-09-27 00:00] Guard #1973 begins shift");
    rowInput.add("[1518-06-20 00:58] wakes up");
    rowInput.add("[1518-06-23 00:39] wakes up");
    rowInput.add("[1518-07-25 00:41] wakes up");
    rowInput.add("[1518-03-26 00:03] Guard #337 begins shift");
    rowInput.add("[1518-10-02 00:10] falls asleep");
    rowInput.add("[1518-08-01 00:20] falls asleep");
    rowInput.add("[1518-06-11 00:51] falls asleep");
    rowInput.add("[1518-06-23 00:00] Guard #1951 begins shift");
    rowInput.add("[1518-09-27 00:45] wakes up");
    rowInput.add("[1518-09-05 00:53] falls asleep");
    rowInput.add("[1518-11-20 00:42] wakes up");
    rowInput.add("[1518-10-31 23:48] Guard #2617 begins shift");
    rowInput.add("[1518-10-07 00:50] falls asleep");
    rowInput.add("[1518-09-05 00:55] wakes up");
    rowInput.add("[1518-08-29 00:53] wakes up");
    rowInput.add("[1518-09-16 00:59] wakes up");
    rowInput.add("[1518-07-14 00:19] wakes up");
    rowInput.add("[1518-09-22 00:58] wakes up");
    rowInput.add("[1518-06-23 00:43] falls asleep");
    rowInput.add("[1518-07-15 00:15] wakes up");
    rowInput.add("[1518-07-08 00:02] Guard #89 begins shift");
    rowInput.add("[1518-07-11 00:48] wakes up");
    rowInput.add("[1518-09-25 00:59] wakes up");
    rowInput.add("[1518-05-23 00:36] falls asleep");
    rowInput.add("[1518-03-22 00:04] Guard #2341 begins shift");
    rowInput.add("[1518-09-06 00:41] wakes up");
    rowInput.add("[1518-06-25 00:02] Guard #947 begins shift");
    rowInput.add("[1518-05-16 00:54] wakes up");
    rowInput.add("[1518-06-23 23:58] Guard #2791 begins shift");
    rowInput.add("[1518-05-07 00:45] falls asleep");
    rowInput.add("[1518-07-14 23:50] Guard #1973 begins shift");
    rowInput.add("[1518-04-01 00:28] wakes up");
    rowInput.add("[1518-10-11 00:41] wakes up");
    rowInput.add("[1518-06-19 00:00] Guard #3449 begins shift");
    rowInput.add("[1518-07-24 23:49] Guard #89 begins shift");
    rowInput.add("[1518-05-30 00:58] wakes up");
    rowInput.add("[1518-10-25 00:43] wakes up");
    rowInput.add("[1518-05-04 00:07] falls asleep");
    rowInput.add("[1518-10-05 00:00] Guard #809 begins shift");
    rowInput.add("[1518-08-01 00:04] Guard #89 begins shift");
    rowInput.add("[1518-07-30 00:00] Guard #89 begins shift");
    rowInput.add("[1518-07-17 00:00] Guard #499 begins shift");
    rowInput.add("[1518-07-06 00:38] wakes up");
    rowInput.add("[1518-06-26 00:51] wakes up");
    rowInput.add("[1518-09-28 00:27] falls asleep");
    rowInput.add("[1518-06-09 00:31] wakes up");
    rowInput.add("[1518-10-22 00:43] wakes up");
    rowInput.add("[1518-10-31 00:41] falls asleep");
    rowInput.add("[1518-06-14 00:04] falls asleep");
    rowInput.add("[1518-07-19 00:38] wakes up");
    rowInput.add("[1518-05-22 00:38] falls asleep");
    rowInput.add("[1518-11-10 00:29] wakes up");
    rowInput.add("[1518-10-23 00:05] falls asleep");
    rowInput.add("[1518-06-16 00:38] wakes up");
    rowInput.add("[1518-04-24 00:47] wakes up");
    rowInput.add("[1518-07-23 00:03] Guard #631 begins shift");
    rowInput.add("[1518-06-08 00:40] falls asleep");
    rowInput.add("[1518-05-08 00:53] wakes up");
    rowInput.add("[1518-09-04 00:38] wakes up");
    rowInput.add("[1518-08-29 00:50] falls asleep");
    rowInput.add("[1518-11-10 00:15] falls asleep");
    rowInput.add("[1518-11-23 00:54] wakes up");
    rowInput.add("[1518-11-05 00:36] falls asleep");
    rowInput.add("[1518-10-04 00:02] Guard #2341 begins shift");
    rowInput.add("[1518-04-06 00:00] Guard #1367 begins shift");
    rowInput.add("[1518-07-17 23:46] Guard #2089 begins shift");
    rowInput.add("[1518-06-15 00:44] wakes up");
    rowInput.add("[1518-04-10 00:17] wakes up");
    rowInput.add("[1518-08-31 00:32] falls asleep");
    rowInput.add("[1518-05-03 00:30] wakes up");
    rowInput.add("[1518-09-11 00:23] falls asleep");
    rowInput.add("[1518-06-12 00:54] wakes up");
    rowInput.add("[1518-11-08 23:50] Guard #1481 begins shift");
    rowInput.add("[1518-08-31 00:59] wakes up");
    rowInput.add("[1518-09-25 00:40] falls asleep");
    rowInput.add("[1518-09-23 00:11] wakes up");
    rowInput.add("[1518-06-06 00:57] wakes up");
    rowInput.add("[1518-05-03 00:18] wakes up");
    rowInput.add("[1518-09-22 00:24] falls asleep");
    rowInput.add("[1518-09-06 00:50] falls asleep");
    rowInput.add("[1518-05-01 00:46] falls asleep");
    rowInput.add("[1518-05-07 00:46] wakes up");
    rowInput.add("[1518-10-21 00:51] wakes up");
    rowInput.add("[1518-05-08 00:34] wakes up");
    rowInput.add("[1518-08-25 23:53] Guard #337 begins shift");
    rowInput.add("[1518-08-04 00:19] wakes up");
    rowInput.add("[1518-10-25 00:53] wakes up");
    rowInput.add("[1518-09-26 00:53] wakes up");
    rowInput.add("[1518-05-17 23:57] Guard #2089 begins shift");
    rowInput.add("[1518-08-06 00:01] Guard #631 begins shift");
    rowInput.add("[1518-07-04 00:43] wakes up");
    rowInput.add("[1518-06-22 00:57] falls asleep");
    rowInput.add("[1518-05-17 00:01] wakes up");
    rowInput.add("[1518-05-14 00:19] wakes up");
    rowInput.add("[1518-05-25 23:56] Guard #89 begins shift");
    rowInput.add("[1518-08-11 00:44] wakes up");
    rowInput.add("[1518-11-03 00:50] wakes up");
    rowInput.add("[1518-06-10 00:03] Guard #631 begins shift");
    rowInput.add("[1518-06-11 00:42] wakes up");
    rowInput.add("[1518-07-09 00:03] Guard #3119 begins shift");
    rowInput.add("[1518-04-02 00:34] falls asleep");
    rowInput.add("[1518-08-20 00:00] Guard #3449 begins shift");
    rowInput.add("[1518-06-13 00:00] Guard #3019 begins shift");
    rowInput.add("[1518-07-17 00:57] wakes up");
    rowInput.add("[1518-03-23 00:37] wakes up");
    rowInput.add("[1518-07-08 00:50] wakes up");
    rowInput.add("[1518-09-04 00:30] wakes up");
    rowInput.add("[1518-05-25 00:35] wakes up");
    rowInput.add("[1518-07-28 00:21] falls asleep");
    rowInput.add("[1518-09-04 00:56] falls asleep");
    rowInput.add("[1518-06-19 00:11] falls asleep");
    rowInput.add("[1518-07-03 00:00] falls asleep");
    rowInput.add("[1518-06-17 23:56] Guard #2341 begins shift");
    rowInput.add("[1518-04-28 00:14] falls asleep");
    rowInput.add("[1518-11-04 00:57] wakes up");
    rowInput.add("[1518-11-04 00:11] falls asleep");
    rowInput.add("[1518-09-15 00:41] falls asleep");
    rowInput.add("[1518-07-23 23:59] Guard #1481 begins shift");
    rowInput.add("[1518-11-06 23:58] Guard #3119 begins shift");
    rowInput.add("[1518-10-31 00:22] falls asleep");
    rowInput.add("[1518-04-04 00:59] wakes up");
    rowInput.add("[1518-08-31 00:50] falls asleep");
    rowInput.add("[1518-11-23 00:03] Guard #1481 begins shift");
    rowInput.add("[1518-09-08 23:56] Guard #1973 begins shift");
    rowInput.add("[1518-04-13 00:55] falls asleep");
    rowInput.add("[1518-09-21 00:01] Guard #1973 begins shift");
    rowInput.add("[1518-05-02 23:46] Guard #631 begins shift");
    rowInput.add("[1518-09-11 00:00] Guard #2617 begins shift");
    rowInput.add("[1518-09-22 23:49] Guard #2617 begins shift");
    rowInput.add("[1518-09-01 23:58] Guard #2617 begins shift");
    rowInput.add("[1518-11-10 00:52] wakes up");
    rowInput.add("[1518-11-21 00:03] falls asleep");
    rowInput.add("[1518-06-09 00:46] wakes up");
    rowInput.add("[1518-11-18 00:37] wakes up");
    rowInput.add("[1518-03-30 00:30] wakes up");
    rowInput.add("[1518-08-09 00:34] wakes up");
    rowInput.add("[1518-04-02 00:00] Guard #2791 begins shift");
    rowInput.add("[1518-05-01 00:06] falls asleep");
    rowInput.add("[1518-03-19 00:58] wakes up");
    rowInput.add("[1518-08-19 00:30] falls asleep");
    rowInput.add("[1518-06-07 00:54] falls asleep");
    rowInput.add("[1518-11-01 00:58] wakes up");
    rowInput.add("[1518-08-28 00:22] wakes up");
    rowInput.add("[1518-09-16 00:09] falls asleep");
    rowInput.add("[1518-03-21 00:44] wakes up");
    rowInput.add("[1518-05-08 00:57] falls asleep");
    rowInput.add("[1518-07-27 23:56] Guard #809 begins shift");
    rowInput.add("[1518-05-19 00:53] falls asleep");
    rowInput.add("[1518-10-12 00:37] falls asleep");
    rowInput.add("[1518-09-24 00:51] wakes up");
    rowInput.add("[1518-11-22 00:09] wakes up");
    rowInput.add("[1518-09-13 00:23] wakes up");
    rowInput.add("[1518-09-05 00:02] Guard #2341 begins shift");
    rowInput.add("[1518-08-08 00:53] wakes up");
    rowInput.add("[1518-07-22 00:12] falls asleep");
    rowInput.add("[1518-11-16 00:59] wakes up");
    rowInput.add("[1518-05-21 00:02] Guard #89 begins shift");
    rowInput.add("[1518-03-23 00:45] falls asleep");
    rowInput.add("[1518-04-04 00:55] falls asleep");
    rowInput.add("[1518-10-25 00:57] falls asleep");
    rowInput.add("[1518-07-31 00:52] wakes up");
    rowInput.add("[1518-04-02 23:49] Guard #947 begins shift");
    rowInput.add("[1518-04-18 00:17] wakes up");
    rowInput.add("[1518-10-08 00:08] falls asleep");
    rowInput.add("[1518-05-06 00:23] falls asleep");
    rowInput.add("[1518-11-09 00:04] falls asleep");
    rowInput.add("[1518-09-01 00:52] falls asleep");
    rowInput.add("[1518-08-14 00:00] Guard #499 begins shift");
    rowInput.add("[1518-07-11 00:20] falls asleep");
    rowInput.add("[1518-03-26 00:40] falls asleep");
    rowInput.add("[1518-06-01 23:58] Guard #337 begins shift");
    rowInput.add("[1518-07-26 00:07] falls asleep");
    rowInput.add("[1518-04-13 00:25] falls asleep");
    rowInput.add("[1518-09-26 00:03] Guard #1973 begins shift");
    rowInput.add("[1518-06-07 00:56] wakes up");
    rowInput.add("[1518-06-21 00:22] falls asleep");
    rowInput.add("[1518-11-12 00:55] wakes up");
    rowInput.add("[1518-08-21 23:56] Guard #3449 begins shift");
    rowInput.add("[1518-04-07 00:03] Guard #809 begins shift");
    rowInput.add("[1518-10-01 00:43] wakes up");
    rowInput.add("[1518-03-31 00:39] falls asleep");
    rowInput.add("[1518-07-25 00:30] falls asleep");
    rowInput.add("[1518-07-29 00:16] falls asleep");
    rowInput.add("[1518-07-28 00:23] wakes up");
    rowInput.add("[1518-07-27 00:00] Guard #2617 begins shift");
    rowInput.add("[1518-06-04 00:55] wakes up");
    rowInput.add("[1518-03-24 00:59] wakes up");
    rowInput.add("[1518-10-29 00:56] falls asleep");
    rowInput.add("[1518-06-10 00:07] falls asleep");
    rowInput.add("[1518-08-29 00:01] Guard #3449 begins shift");
    rowInput.add("[1518-09-09 00:37] falls asleep");
    rowInput.add("[1518-03-23 23:58] Guard #787 begins shift");
    rowInput.add("[1518-03-21 00:01] Guard #2089 begins shift");
    rowInput.add("[1518-03-24 00:56] falls asleep");
    rowInput.add("[1518-07-07 00:40] falls asleep");
    rowInput.add("[1518-10-24 00:03] falls asleep");
    rowInput.add("[1518-05-01 00:50] wakes up");
    rowInput.add("[1518-11-14 00:52] wakes up");
    rowInput.add("[1518-05-19 00:22] falls asleep");
    rowInput.add("[1518-05-24 00:03] Guard #373 begins shift");
    rowInput.add("[1518-10-22 00:55] wakes up");
    rowInput.add("[1518-06-12 00:00] falls asleep");
    rowInput.add("[1518-10-30 00:59] wakes up");
    rowInput.add("[1518-08-30 00:02] Guard #2617 begins shift");
    rowInput.add("[1518-10-24 00:23] wakes up");
    rowInput.add("[1518-03-27 00:26] falls asleep");
    rowInput.add("[1518-07-26 00:50] wakes up");
    rowInput.add("[1518-08-06 00:45] falls asleep");
    rowInput.add("[1518-06-22 00:59] wakes up");
    rowInput.add("[1518-09-17 00:18] falls asleep");
    rowInput.add("[1518-09-02 00:37] falls asleep");
    rowInput.add("[1518-11-21 00:31] falls asleep");
    rowInput.add("[1518-09-23 00:05] falls asleep");
    rowInput.add("[1518-10-24 00:47] wakes up");
    rowInput.add("[1518-06-06 00:45] falls asleep");
    rowInput.add("[1518-05-09 00:54] wakes up");
    rowInput.add("[1518-07-13 00:53] wakes up");
    rowInput.add("[1518-06-15 23:50] Guard #3449 begins shift");
    rowInput.add("[1518-08-03 00:46] wakes up");
    rowInput.add("[1518-06-16 00:01] falls asleep");
    rowInput.add("[1518-07-25 00:20] wakes up");
    rowInput.add("[1518-09-11 00:56] wakes up");
    rowInput.add("[1518-10-04 00:47] falls asleep");
    rowInput.add("[1518-09-19 00:01] Guard #1481 begins shift");
    rowInput.add("[1518-11-08 00:46] wakes up");
    rowInput.add("[1518-06-09 00:36] falls asleep");
    rowInput.add("[1518-08-24 00:01] falls asleep");
    rowInput.add("[1518-08-21 00:56] wakes up");
    rowInput.add("[1518-11-13 00:07] falls asleep");
    rowInput.add("[1518-07-14 00:51] wakes up");
    rowInput.add("[1518-10-15 00:41] wakes up");
    rowInput.add("[1518-07-04 00:02] falls asleep");
    rowInput.add("[1518-06-06 00:39] wakes up");
    rowInput.add("[1518-06-20 00:06] falls asleep");
    rowInput.add("[1518-06-08 00:15] falls asleep");
    rowInput.add("[1518-07-15 00:37] wakes up");
    rowInput.add("[1518-06-29 00:42] wakes up");
    rowInput.add("[1518-04-04 00:51] wakes up");
    rowInput.add("[1518-03-24 00:41] wakes up");
    rowInput.add("[1518-09-21 23:56] Guard #1481 begins shift");
    rowInput.add("[1518-11-18 00:01] falls asleep");
    rowInput.add("[1518-07-19 00:44] falls asleep");
    rowInput.add("[1518-08-14 00:58] wakes up");
    rowInput.add("[1518-07-11 00:10] falls asleep");
    rowInput.add("[1518-08-19 00:04] Guard #2341 begins shift");
    rowInput.add("[1518-08-13 00:56] falls asleep");
    rowInput.add("[1518-08-11 00:00] Guard #3019 begins shift");
    rowInput.add("[1518-06-13 23:46] Guard #499 begins shift");
    rowInput.add("[1518-04-17 00:04] Guard #3449 begins shift");
    rowInput.add("[1518-11-20 00:17] falls asleep");
    rowInput.add("[1518-05-13 23:59] Guard #1367 begins shift");
    rowInput.add("[1518-09-20 00:42] wakes up");
    rowInput.add("[1518-11-20 00:55] wakes up");
    rowInput.add("[1518-10-09 00:44] wakes up");
    rowInput.add("[1518-05-13 00:38] wakes up");
    rowInput.add("[1518-06-30 00:54] wakes up");
    rowInput.add("[1518-11-13 00:23] wakes up");
    rowInput.add("[1518-03-24 00:06] falls asleep");
    rowInput.add("[1518-05-13 00:12] falls asleep");
    rowInput.add("[1518-05-09 00:35] falls asleep");
    rowInput.add("[1518-03-26 00:52] falls asleep");
    rowInput.add("[1518-06-25 00:07] falls asleep");
    rowInput.add("[1518-11-03 00:55] falls asleep");
    rowInput.add("[1518-06-15 00:01] Guard #3449 begins shift");
    rowInput.add("[1518-05-18 00:44] falls asleep");
    rowInput.add("[1518-04-19 00:38] wakes up");
    rowInput.add("[1518-11-07 00:26] falls asleep");
    rowInput.add("[1518-09-18 00:45] wakes up");
    rowInput.add("[1518-05-14 00:16] falls asleep");
    rowInput.add("[1518-11-12 00:44] falls asleep");
    rowInput.add("[1518-09-19 00:38] falls asleep");
    rowInput.add("[1518-08-03 00:56] wakes up");
    rowInput.add("[1518-04-27 00:44] falls asleep");
    rowInput.add("[1518-04-22 00:00] Guard #947 begins shift");
    rowInput.add("[1518-08-03 00:03] Guard #2243 begins shift");
    rowInput.add("[1518-10-30 00:22] falls asleep");
    rowInput.add("[1518-03-25 00:58] wakes up");
    rowInput.add("[1518-08-28 00:18] falls asleep");
    rowInput.add("[1518-05-10 00:43] wakes up");
    rowInput.add("[1518-07-07 00:27] falls asleep");
    rowInput.add("[1518-06-26 00:18] wakes up");
    rowInput.add("[1518-03-21 00:58] wakes up");
    rowInput.add("[1518-07-10 00:48] falls asleep");
    rowInput.add("[1518-10-31 00:44] wakes up");
    rowInput.add("[1518-04-23 00:19] falls asleep");
    rowInput.add("[1518-09-20 00:04] Guard #499 begins shift");
    rowInput.add("[1518-10-08 00:41] wakes up");
    rowInput.add("[1518-08-05 00:45] falls asleep");
    rowInput.add("[1518-04-25 00:35] falls asleep");
    rowInput.add("[1518-09-17 00:57] wakes up");
    rowInput.add("[1518-10-19 00:09] falls asleep");
    rowInput.add("[1518-09-06 23:50] Guard #2791 begins shift");
    rowInput.add("[1518-11-20 00:47] falls asleep");
    rowInput.add("[1518-07-18 23:58] Guard #499 begins shift");
    rowInput.add("[1518-08-21 00:12] falls asleep");
    rowInput.add("[1518-09-13 00:39] wakes up");
    rowInput.add("[1518-11-07 00:23] wakes up");
    rowInput.add("[1518-08-23 23:47] Guard #1481 begins shift");
    rowInput.add("[1518-10-31 00:00] Guard #89 begins shift");
    rowInput.add("[1518-07-29 00:13] wakes up");
    rowInput.add("[1518-04-20 23:46] Guard #1481 begins shift");
    rowInput.add("[1518-03-22 00:18] falls asleep");
    rowInput.add("[1518-11-06 00:03] Guard #337 begins shift");
    rowInput.add("[1518-07-27 00:08] falls asleep");
    rowInput.add("[1518-05-12 00:35] falls asleep");
    rowInput.add("[1518-05-18 00:20] falls asleep");
    rowInput.add("[1518-04-14 00:41] falls asleep");
    rowInput.add("[1518-08-06 00:33] wakes up");
    rowInput.add("[1518-04-07 00:42] wakes up");
    rowInput.add("[1518-09-18 00:58] wakes up");
    rowInput.add("[1518-03-27 00:35] falls asleep");
    rowInput.add("[1518-08-30 00:22] falls asleep");
    rowInput.add("[1518-07-18 00:56] falls asleep");
    rowInput.add("[1518-05-01 23:56] Guard #2791 begins shift");
    rowInput.add("[1518-06-27 23:46] Guard #1973 begins shift");
    rowInput.add("[1518-06-26 00:49] falls asleep");
    rowInput.add("[1518-06-21 00:41] wakes up");
    rowInput.add("[1518-05-06 00:03] wakes up");
    rowInput.add("[1518-07-04 00:14] wakes up");
    rowInput.add("[1518-04-07 23:56] Guard #1951 begins shift");
    rowInput.add("[1518-07-27 00:54] wakes up");
    rowInput.add("[1518-06-26 00:37] falls asleep");
    rowInput.add("[1518-06-30 00:52] falls asleep");
    rowInput.add("[1518-10-27 00:50] wakes up");
    rowInput.add("[1518-10-23 00:50] wakes up");
    rowInput.add("[1518-06-30 00:29] wakes up");
    rowInput.add("[1518-05-07 00:51] falls asleep");
    rowInput.add("[1518-10-24 00:35] falls asleep");
    rowInput.add("[1518-09-03 00:12] falls asleep");
    rowInput.add("[1518-08-10 00:32] falls asleep");
    rowInput.add("[1518-08-07 00:33] falls asleep");
    rowInput.add("[1518-10-08 00:22] falls asleep");
    rowInput.add("[1518-08-16 00:16] falls asleep");
    rowInput.add("[1518-03-25 00:26] falls asleep");
    rowInput.add("[1518-05-22 00:04] Guard #3449 begins shift");
    rowInput.add("[1518-08-26 23:58] Guard #787 begins shift");
    rowInput.add("[1518-05-26 00:55] wakes up");
    rowInput.add("[1518-09-15 00:13] falls asleep");
    rowInput.add("[1518-09-06 00:38] falls asleep");
    rowInput.add("[1518-04-07 00:37] falls asleep");
    rowInput.add("[1518-06-28 00:59] wakes up");
    rowInput.add("[1518-05-07 23:47] Guard #1367 begins shift");
    rowInput.add("[1518-03-21 00:54] falls asleep");
    rowInput.add("[1518-05-09 00:49] wakes up");
    rowInput.add("[1518-08-01 23:57] Guard #1481 begins shift");
    rowInput.add("[1518-05-08 00:02] falls asleep");
    rowInput.add("[1518-08-02 00:57] wakes up");
    rowInput.add("[1518-04-21 00:05] falls asleep");
    rowInput.add("[1518-09-14 00:01] Guard #1951 begins shift");
    rowInput.add("[1518-04-05 00:56] wakes up");
    rowInput.add("[1518-06-27 00:49] falls asleep");
    rowInput.add("[1518-07-15 00:01] falls asleep");
    rowInput.add("[1518-08-31 23:59] Guard #809 begins shift");
    rowInput.add("[1518-08-09 23:56] Guard #809 begins shift");
    rowInput.add("[1518-04-11 00:19] falls asleep");
    rowInput.add("[1518-11-14 00:49] falls asleep");
    rowInput.add("[1518-04-19 23:57] Guard #3067 begins shift");
    rowInput.add("[1518-03-28 00:12] falls asleep");
    rowInput.add("[1518-10-27 00:02] Guard #631 begins shift");
    rowInput.add("[1518-07-14 00:25] falls asleep");
    rowInput.add("[1518-04-09 00:04] Guard #2617 begins shift");
    rowInput.add("[1518-10-05 00:44] wakes up");
    rowInput.add("[1518-08-13 00:03] Guard #439 begins shift");
    rowInput.add("[1518-08-23 00:13] falls asleep");
    rowInput.add("[1518-10-08 00:09] wakes up");
    rowInput.add("[1518-08-26 00:54] wakes up");
    rowInput.add("[1518-09-18 00:38] falls asleep");
    rowInput.add("[1518-07-11 23:59] Guard #499 begins shift");
    rowInput.add("[1518-10-25 00:07] falls asleep");
    rowInput.add("[1518-06-10 00:53] wakes up");
    rowInput.add("[1518-07-02 00:20] falls asleep");
    rowInput.add("[1518-11-16 00:47] falls asleep");
    rowInput.add("[1518-11-15 00:27] falls asleep");
    rowInput.add("[1518-08-25 00:20] falls asleep");
    rowInput.add("[1518-05-30 00:37] falls asleep");
    rowInput.add("[1518-09-10 00:26] falls asleep");
    rowInput.add("[1518-08-17 00:16] wakes up");
    rowInput.add("[1518-10-15 00:44] falls asleep");
    rowInput.add("[1518-10-05 00:38] falls asleep");
    rowInput.add("[1518-03-26 00:53] wakes up");
    rowInput.add("[1518-11-15 00:58] wakes up");
    rowInput.add("[1518-10-13 23:56] Guard #947 begins shift");
    rowInput.add("[1518-10-14 23:58] Guard #3449 begins shift");
    rowInput.add("[1518-05-10 23:59] Guard #631 begins shift");
    rowInput.add("[1518-08-12 00:11] falls asleep");
    rowInput.add("[1518-03-31 00:25] wakes up");
    rowInput.add("[1518-06-05 00:15] falls asleep");
    rowInput.add("[1518-09-07 00:00] falls asleep");
    rowInput.add("[1518-05-11 00:48] wakes up");
    rowInput.add("[1518-09-03 00:53] wakes up");
    rowInput.add("[1518-05-19 00:00] Guard #439 begins shift");
    rowInput.add("[1518-04-13 23:59] Guard #499 begins shift");
    rowInput.add("[1518-08-22 23:56] Guard #1481 begins shift");
    rowInput.add("[1518-10-14 00:06] falls asleep");
    rowInput.add("[1518-04-23 23:56] Guard #947 begins shift");
    rowInput.add("[1518-04-15 00:44] wakes up");
    rowInput.add("[1518-09-12 00:50] wakes up");
    rowInput.add("[1518-08-13 00:30] falls asleep");
    rowInput.add("[1518-07-28 23:52] Guard #809 begins shift");
    rowInput.add("[1518-11-08 00:05] falls asleep");
    rowInput.add("[1518-10-13 00:50] wakes up");
    rowInput.add("[1518-10-03 00:01] Guard #2791 begins shift");
    rowInput.add("[1518-04-26 00:16] falls asleep");
    rowInput.add("[1518-05-20 00:22] falls asleep");
    rowInput.add("[1518-04-18 00:03] falls asleep");
    rowInput.add("[1518-10-01 00:00] Guard #787 begins shift");
    rowInput.add("[1518-09-25 00:42] wakes up");
    rowInput.add("[1518-06-07 00:26] falls asleep");
    rowInput.add("[1518-09-04 00:00] Guard #2341 begins shift");
    rowInput.add("[1518-07-10 00:33] wakes up");
    rowInput.add("[1518-10-18 00:49] falls asleep");
    rowInput.add("[1518-06-28 00:04] falls asleep");
    rowInput.add("[1518-11-21 00:18] wakes up");
    rowInput.add("[1518-07-23 00:57] wakes up");
    rowInput.add("[1518-08-20 00:35] falls asleep");
    rowInput.add("[1518-06-19 00:25] wakes up");
    rowInput.add("[1518-04-21 00:14] wakes up");
    rowInput.add("[1518-06-26 23:59] Guard #337 begins shift");
    rowInput.add("[1518-06-08 00:01] Guard #499 begins shift");
    rowInput.add("[1518-07-12 00:33] falls asleep");
    rowInput.add("[1518-09-09 00:41] wakes up");
    rowInput.add("[1518-04-17 23:49] Guard #89 begins shift");
    rowInput.add("[1518-06-11 23:53] Guard #2089 begins shift");
    rowInput.add("[1518-04-26 23:58] Guard #3019 begins shift");
    rowInput.add("[1518-08-10 00:52] wakes up");
    rowInput.add("[1518-11-19 00:47] wakes up");
    rowInput.add("[1518-06-27 00:19] falls asleep");
    rowInput.add("[1518-09-24 00:27] falls asleep");
    rowInput.add("[1518-07-09 00:36] wakes up");
    rowInput.add("[1518-08-15 00:00] Guard #337 begins shift");
    rowInput.add("[1518-05-18 00:32] wakes up");
    rowInput.add("[1518-07-25 00:01] falls asleep");
    rowInput.add("[1518-06-05 00:00] Guard #337 begins shift");
    rowInput.add("[1518-10-15 23:58] Guard #439 begins shift");
    rowInput.add("[1518-09-04 00:57] wakes up");
    rowInput.add("[1518-04-10 00:37] wakes up");
    rowInput.add("[1518-07-04 00:48] falls asleep");
    rowInput.add("[1518-09-13 00:20] falls asleep");
    rowInput.add("[1518-11-01 00:34] falls asleep");
    rowInput.add("[1518-06-29 23:54] Guard #337 begins shift");
    rowInput.add("[1518-08-07 00:26] wakes up");
    rowInput.add("[1518-05-08 23:56] Guard #2089 begins shift");
    rowInput.add("[1518-04-02 00:59] wakes up");
    rowInput.add("[1518-06-11 00:03] Guard #1481 begins shift");
    rowInput.add("[1518-10-19 00:50] wakes up");
    rowInput.add("[1518-06-06 00:51] falls asleep");
    rowInput.add("[1518-11-06 00:38] falls asleep");
    rowInput.add("[1518-03-29 00:42] falls asleep");
    rowInput.add("[1518-08-12 00:00] Guard #1973 begins shift");
    rowInput.add("[1518-08-31 00:02] Guard #439 begins shift");
    rowInput.add("[1518-08-09 00:09] falls asleep");
    rowInput.add("[1518-04-03 00:44] wakes up");
    rowInput.add("[1518-05-07 00:00] Guard #631 begins shift");
    rowInput.add("[1518-03-27 00:49] wakes up");
    rowInput.add("[1518-10-10 00:59] wakes up");
    rowInput.add("[1518-06-04 00:21] falls asleep");
    rowInput.add("[1518-03-23 00:51] wakes up");
    rowInput.add("[1518-08-18 00:52] wakes up");
    rowInput.add("[1518-11-14 00:40] wakes up");
    rowInput.add("[1518-06-25 23:50] Guard #631 begins shift");
    rowInput.add("[1518-10-05 00:20] wakes up");
    rowInput.add("[1518-05-11 00:32] falls asleep");
    rowInput.add("[1518-06-19 00:42] falls asleep");
    rowInput.add("[1518-09-12 00:01] Guard #2617 begins shift");
    rowInput.add("[1518-08-30 00:24] wakes up");
    rowInput.add("[1518-10-15 00:47] wakes up");
    rowInput.add("[1518-05-17 00:55] wakes up");
    rowInput.add("[1518-04-07 00:56] wakes up");
    rowInput.add("[1518-10-16 00:43] wakes up");
    rowInput.add("[1518-08-17 23:57] Guard #337 begins shift");
    rowInput.add("[1518-08-07 00:00] Guard #2243 begins shift");
    rowInput.add("[1518-06-11 00:58] wakes up");
    rowInput.add("[1518-05-12 00:58] wakes up");
    rowInput.add("[1518-10-05 00:09] falls asleep");
    rowInput.add("[1518-05-07 00:56] wakes up");
    rowInput.add("[1518-10-08 00:56] wakes up");
    rowInput.add("[1518-03-21 00:32] falls asleep");
    rowInput.add("[1518-11-20 00:03] Guard #1973 begins shift");
    rowInput.add("[1518-05-05 23:53] Guard #787 begins shift");
    rowInput.add("[1518-08-11 00:41] falls asleep");
    rowInput.add("[1518-05-30 00:02] Guard #631 begins shift");
    rowInput.add("[1518-10-10 00:55] falls asleep");
    rowInput.add("[1518-06-03 00:40] wakes up");
    rowInput.add("[1518-03-29 00:46] wakes up");
    rowInput.add("[1518-11-10 00:03] Guard #787 begins shift");
    rowInput.add("[1518-08-21 00:44] falls asleep");
    rowInput.add("[1518-06-10 00:34] falls asleep");
    rowInput.add("[1518-06-20 00:03] Guard #809 begins shift");
    rowInput.add("[1518-07-21 00:04] Guard #373 begins shift");
    rowInput.add("[1518-05-06 00:47] wakes up");
    rowInput.add("[1518-04-10 00:35] falls asleep");
    rowInput.add("[1518-04-05 00:37] wakes up");
    rowInput.add("[1518-06-19 00:32] wakes up");
    rowInput.add("[1518-04-04 00:22] wakes up");
    rowInput.add("[1518-06-30 00:04] falls asleep");
    rowInput.add("[1518-04-25 00:05] falls asleep");
    rowInput.add("[1518-09-15 23:57] Guard #2243 begins shift");
    rowInput.add("[1518-07-10 00:10] falls asleep");
    rowInput.add("[1518-10-21 00:02] falls asleep");
    rowInput.add("[1518-10-20 00:01] Guard #1151 begins shift");
    rowInput.add("[1518-03-27 00:31] wakes up");
    rowInput.add("[1518-04-22 23:59] Guard #1367 begins shift");
    rowInput.add("[1518-11-09 00:37] wakes up");
    rowInput.add("[1518-10-11 00:35] falls asleep");
    rowInput.add("[1518-10-28 00:42] wakes up");
    rowInput.add("[1518-11-21 00:04] wakes up");
    rowInput.add("[1518-08-15 00:13] falls asleep");
    rowInput.add("[1518-10-13 00:04] Guard #1973 begins shift");
    rowInput.add("[1518-04-09 00:47] falls asleep");
    rowInput.add("[1518-11-17 00:37] falls asleep");
    rowInput.add("[1518-03-31 23:58] Guard #499 begins shift");
    rowInput.add("[1518-05-10 00:03] Guard #3449 begins shift");
    rowInput.add("[1518-11-21 00:07] falls asleep");
    rowInput.add("[1518-09-04 00:18] falls asleep");
    rowInput.add("[1518-09-28 00:51] falls asleep");
    rowInput.add("[1518-05-19 23:58] Guard #2089 begins shift");
    rowInput.add("[1518-04-09 23:51] Guard #809 begins shift");
    rowInput.add("[1518-07-28 00:53] wakes up");
    rowInput.add("[1518-10-06 00:16] falls asleep");
    rowInput.add("[1518-03-23 00:25] falls asleep");
    rowInput.add("[1518-07-01 00:29] falls asleep");
    rowInput.add("[1518-04-05 00:10] falls asleep");
    rowInput.add("[1518-08-02 00:43] falls asleep");
    rowInput.add("[1518-06-24 00:14] falls asleep");
    rowInput.add("[1518-04-09 00:26] wakes up");
    rowInput.add("[1518-06-29 00:05] falls asleep");
    rowInput.add("[1518-06-01 00:35] falls asleep");
    rowInput.add("[1518-06-17 00:57] wakes up");
    rowInput.add("[1518-09-13 00:30] falls asleep");
    rowInput.add("[1518-09-15 00:00] Guard #337 begins shift");
    rowInput.add("[1518-05-19 00:39] wakes up");
    rowInput.add("[1518-05-09 00:52] falls asleep");
    rowInput.add("[1518-10-17 00:04] Guard #1151 begins shift");
    rowInput.add("[1518-10-06 23:57] Guard #809 begins shift");
    rowInput.add("[1518-08-04 00:15] falls asleep");
    rowInput.add("[1518-11-19 00:00] Guard #2791 begins shift");
    rowInput.add("[1518-04-03 00:05] falls asleep");
    rowInput.add("[1518-08-17 00:52] wakes up");
    rowInput.add("[1518-04-19 00:21] falls asleep");
    rowInput.add("[1518-10-18 00:51] wakes up");
    rowInput.add("[1518-10-11 00:02] Guard #1951 begins shift");
    rowInput.add("[1518-06-06 00:02] Guard #2791 begins shift");
    rowInput.add("[1518-10-07 00:52] wakes up");
    rowInput.add("[1518-11-08 00:35] falls asleep");
    rowInput.add("[1518-09-23 00:14] falls asleep");
    rowInput.add("[1518-03-23 00:04] Guard #1481 begins shift");
    rowInput.add("[1518-06-19 00:29] falls asleep");
    rowInput.add("[1518-05-14 23:47] Guard #947 begins shift");
    rowInput.add("[1518-09-06 00:57] wakes up");
    rowInput.add("[1518-10-03 00:14] falls asleep");
    rowInput.add("[1518-06-04 00:00] Guard #787 begins shift");
    rowInput.add("[1518-10-05 23:58] Guard #787 begins shift");
    rowInput.add("[1518-09-11 00:39] falls asleep");
    rowInput.add("[1518-04-26 00:56] wakes up");

    final TreeSet<RowInput> allEvents = new TreeSet<>();
    final SimpleDateFormat parser = new SimpleDateFormat("yyyy-MM-dd HH:mm");

    for (final String oneRow : rowInput) {
      // TODO: this is not working
      final RowInput rInp = new RowInput();
      final Date curDate = parser.parse(oneRow.substring(1, oneRow.indexOf("]")));
      if (oneRow.contains("begins shift")) {
        rInp.idGuard = Integer.parseInt(oneRow.substring(oneRow.indexOf("#") + 1).replace(" begins shift", ""));
      }
      rInp.event = curDate;
      allEvents.add(rInp);
    }

    FallAsleep current = null;
    Date start = null;
    final List<FallAsleep> asleeps = new LinkedList<>();
    for (final RowInput inp : allEvents) {
      if (Objects.nonNull(inp.idGuard)) {
        current = new FallAsleep(inp.idGuard);
        asleeps.add(current);
        continue;
      }
      if (Objects.isNull(start)) {
        start = inp.event;
      } else {
        current.addAsleep(start, inp.event);
        start = null;
      }
    }
    return asleeps;
  }

  class FallAsleep {
    int guardId;
    Date date;
    List<AsleepDuration> asleepDurations;

    public FallAsleep(int guardId) {
      this.guardId = guardId;
      this.asleepDurations = new ArrayList<>();
    }

    public void addAsleep(Date start, Date end) {
      final AsleepDuration d = new AsleepDuration();
      d.start = start;
      d.end = end;
      this.asleepDurations.add(d);
    }
  }

  class AsleepDuration {
    Date start;
    Date end;
  }

  class RowInput implements Comparable<RowInput> {
    Date event;
    Integer idGuard;

    @Override
    public int compareTo(RowInput o) {
      return this.event.compareTo(o.event);
    }
  }

  public static void main(String[] args) throws ParseException {

    final Day4 day4 = new Day4();
    System.out.println(day4.getGuardByMinute());
    System.out.println(day4.getGuardAndMinute());

  }

}
